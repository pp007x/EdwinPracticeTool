[{"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\index.js":"1","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\App.js":"2","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\reportWebVitals.js":"3","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\ReactionForm.js":"4","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\LoginForm.js":"5","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\Adminpage.js":"6","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\Homepage.js":"7","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\Protectedroute.js":"8","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\Dashboard.js":"9","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\RegisterForm.js":"10","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\AddCompany.js":"11","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\DashboardCompany.js":"12","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\Logout.js":"13","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\DashboardSidebar.js":"14","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\DashboardHeader.js":"15","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\index.js":"16","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\App.js":"17","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\reportWebVitals.js":"18","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\Homepage.js":"19","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\LoginForm.js":"20","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\Adminpage.js":"21","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\ReactionForm.js":"22","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\Protectedroute.js":"23","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\AddCompany.js":"24","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\RegisterForm.js":"25","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\Dashboard.js":"26","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\DashboardCompany.js":"27","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\Logout.js":"28","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\DashboardSidebar.js":"29","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\DashboardHeader.js":"30"},{"size":552,"mtime":1688156697445,"results":"31","hashOfConfig":"32"},{"size":1303,"mtime":1688232874029,"results":"33","hashOfConfig":"32"},{"size":375,"mtime":1688156697445,"results":"34","hashOfConfig":"32"},{"size":3177,"mtime":1688232769797,"results":"35","hashOfConfig":"32"},{"size":2741,"mtime":1688157317773,"results":"36","hashOfConfig":"32"},{"size":2381,"mtime":1688156697438,"results":"37","hashOfConfig":"32"},{"size":1630,"mtime":1688069441976,"results":"38","hashOfConfig":"32"},{"size":598,"mtime":1688156697440,"results":"39","hashOfConfig":"32"},{"size":3890,"mtime":1688156697438,"results":"40","hashOfConfig":"32"},{"size":2713,"mtime":1688233460778,"results":"41","hashOfConfig":"32"},{"size":1797,"mtime":1688156697438,"results":"42","hashOfConfig":"32"},{"size":5290,"mtime":1688156697439,"results":"43","hashOfConfig":"32"},{"size":483,"mtime":1688069441976,"results":"44","hashOfConfig":"32"},{"size":984,"mtime":1688156697439,"results":"45","hashOfConfig":"32"},{"size":221,"mtime":1688156697439,"results":"46","hashOfConfig":"32"},{"size":552,"mtime":1688156697445,"results":"47","hashOfConfig":"48"},{"size":1238,"mtime":1688158033239,"results":"49","hashOfConfig":"48"},{"size":375,"mtime":1688156697445,"results":"50","hashOfConfig":"48"},{"size":1630,"mtime":1688156697439,"results":"51","hashOfConfig":"48"},{"size":2741,"mtime":1688157317773,"results":"52","hashOfConfig":"48"},{"size":2381,"mtime":1688156697438,"results":"53","hashOfConfig":"48"},{"size":2224,"mtime":1688156697440,"results":"54","hashOfConfig":"48"},{"size":598,"mtime":1688156697440,"results":"55","hashOfConfig":"48"},{"size":1797,"mtime":1688156697438,"results":"56","hashOfConfig":"48"},{"size":2572,"mtime":1688157685090,"results":"57","hashOfConfig":"48"},{"size":3890,"mtime":1688156697438,"results":"58","hashOfConfig":"48"},{"size":5290,"mtime":1688156697439,"results":"59","hashOfConfig":"48"},{"size":483,"mtime":1688156697440,"results":"60","hashOfConfig":"48"},{"size":984,"mtime":1688156697439,"results":"61","hashOfConfig":"48"},{"size":221,"mtime":1688156697439,"results":"62","hashOfConfig":"48"},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"ef1nh3",{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","suppressedMessages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78"},{"filePath":"79","messages":"80","suppressedMessages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","suppressedMessages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","suppressedMessages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","suppressedMessages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","suppressedMessages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"94","messages":"95","suppressedMessages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","suppressedMessages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","suppressedMessages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","suppressedMessages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"106","messages":"107","suppressedMessages":"108","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"109","messages":"110","suppressedMessages":"111","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1qd77vu",{"filePath":"112","messages":"113","suppressedMessages":"114","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"115","messages":"116","suppressedMessages":"117","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"118","messages":"119","suppressedMessages":"120","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"121","messages":"122","suppressedMessages":"123","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78"},{"filePath":"124","messages":"125","suppressedMessages":"126","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"127","messages":"128","suppressedMessages":"129","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"130","messages":"131","suppressedMessages":"132","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"133","messages":"134","suppressedMessages":"135","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"136","messages":"137","suppressedMessages":"138","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"139"},{"filePath":"140","messages":"141","suppressedMessages":"142","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"143","messages":"144","suppressedMessages":"145","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"146","messages":"147","suppressedMessages":"148","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"149","messages":"150","suppressedMessages":"151","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"152","messages":"153","suppressedMessages":"154","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\index.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\App.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\reportWebVitals.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\ReactionForm.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\LoginForm.js",["155"],[],"import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport jwtDecode from 'jwt-decode';\r\nimport '../Css/LoginForm.css';  // import your CSS file\r\nimport logo from '../images/HigtechLogo.png';\r\n\r\nfunction LoginForm() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loginError, setLoginError] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n  \r\n    const data = {\r\n      username: username,\r\n      password: password\r\n    };\r\n  \r\n    try {\r\n      const response = await axios.post(\"http://localhost:5162/api/Authentication/Login\", data);\r\n      \r\n      // Save the JWT token to local storage\r\n      localStorage.setItem('token', response.data);\r\n  \r\n      // Get the role from the token\r\n      const decodedToken = jwtDecode(response.data);\r\n      const userRole = decodedToken['http://schemas.microsoft.com/ws/2008/06/identity/claims/role'];\r\n  \r\n      // Check user's scores\r\n      try {\r\n        const totalScoreResponse = await axios.get(\"http://localhost:5162/api/TotalScores/user\", {\r\n          headers: {\r\n            'Authorization': `Bearer ${response.data}`\r\n          }\r\n        });\r\n  \r\n        const totalScore = totalScoreResponse.data;\r\n  \r\n        // If user's scores are null, navigate to /reactionform\r\n        if (!totalScore || totalScore === null) {\r\n          navigate('/reactionform');\r\n        } else {\r\n          // Navigate to the correct page based on the role\r\n          if (userRole === 'Admin') {\r\n            navigate('/admin');\r\n          } else {\r\n            navigate('/dashboard');\r\n          }\r\n        }\r\n  \r\n      } catch (error) {\r\n        console.error(\"Failed to get user's scores.\", error);\r\n      }\r\n  \r\n    } catch (error) {\r\n      setLoginError(\"Invalid username or password.\");\r\n    }\r\n  };\r\n  \r\n\r\n  return (\r\n    <div className=\"inputBox\">\r\n      <img src={logo} alt=\"Logo\" className=\"logo\" /> {/* Add the logo */}\r\n      <form onSubmit={handleSubmit}>\r\n        <label className=\"label\">Username:</label>\r\n        <input type=\"text\" value={username} onChange={e => setUsername(e.target.value)} placeholder=\"Username\" />\r\n        <label className=\"label\">Password:</label>\r\n        <input type=\"password\" value={password} onChange={e => setPassword(e.target.value)} placeholder=\"Password\" />\r\n        {loginError && <div className=\"error\">{loginError}</div>}\r\n        <button type=\"submit\" className=\"loginButton\">Login</button>\r\n      </form>\r\n      <button className=\"loginButton\" onClick={() => navigate('/register')}>Register</button>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginForm;\r\n","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\Adminpage.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\Homepage.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\Protectedroute.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\Dashboard.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\RegisterForm.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\AddCompany.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\DashboardCompany.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\Logout.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\DashboardSidebar.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\frontend\\src\\components\\DashboardHeader.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\index.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\App.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\reportWebVitals.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\Homepage.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\LoginForm.js",["156"],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\Adminpage.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\ReactionForm.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\Protectedroute.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\AddCompany.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\RegisterForm.js",["157"],[],"import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport jwtDecode from 'jwt-decode';\r\nimport '../Css/LoginForm.css';  // import your CSS file\r\n\r\nfunction RegisterForm() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [companyCode, setCompanyCode] = useState(\"\");\r\n  const [registerError, setRegisterError] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const handleRegisterSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const response = await axios.post(\"http://localhost:5162/api/Authentication/Register\", {\r\n        username,\r\n        password,\r\n        companyCode\r\n      });\r\n\r\n      localStorage.setItem('token', response.data);\r\n\r\n      handleLogin();\r\n\r\n    } catch (error) {\r\n      setRegisterError(\"Registration failed.\");\r\n    }\r\n  };\r\n\r\n  const handleLogin = async () => {\r\n    const data = {\r\n      username: username,\r\n      password: password\r\n    };\r\n  \r\n    try {\r\n      const response = await axios.post(\"http://localhost:5162/api/Authentication/Login\", data);\r\n      \r\n      localStorage.setItem('token', response.data);\r\n  \r\n      const decodedToken = jwtDecode(response.data);\r\n      const userRole = decodedToken['http://schemas.microsoft.com/ws/2008/06/identity/claims/role'];\r\n  \r\n      if (userRole === 'Admin') {\r\n        navigate('/admin');\r\n      } else {\r\n        navigate('/reactionform');\r\n      }\r\n  \r\n    } catch (error) {\r\n      setRegisterError(\"Automatic login failed.\");\r\n    }\r\n  };\r\n  \r\n\r\n  const handleReturnClick = () => {\r\n    navigate('/login');\r\n  };\r\n\r\n  return (\r\n    <div className=\"inputBox\">\r\n      <button className=\"returnButton\" onClick={handleReturnClick}>Return</button>\r\n      <form onSubmit={handleRegisterSubmit}>\r\n        <label className=\"label\">Username:</label>\r\n        <input type=\"text\" value={username} onChange={e => setUsername(e.target.value)} placeholder=\"Username\" />\r\n        <label className=\"label\">Password:</label>\r\n        <input type=\"password\" value={password} onChange={e => setPassword(e.target.value)} placeholder=\"Password\" />\r\n        <label className=\"label\">Company Code:</label>\r\n        <input type=\"text\" value={companyCode} onChange={e => setCompanyCode(e.target.value)} placeholder=\"Company Code\" />\r\n        {registerError && <div className=\"error\">{registerError}</div>}\r\n        <button type=\"submit\" className=\"loginButton\">Register</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RegisterForm;\r\n","C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\Dashboard.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\DashboardCompany.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\Logout.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\DashboardSidebar.js",[],[],"C:\\Users\\steph\\Documents\\EdwinPracticeTool\\Frontend\\src\\components\\DashboardHeader.js",[],[],{"ruleId":"158","severity":1,"message":"159","line":3,"column":23,"nodeType":"160","messageId":"161","endLine":3,"endColumn":27},{"ruleId":"158","severity":1,"message":"159","line":3,"column":23,"nodeType":"160","messageId":"161","endLine":3,"endColumn":27},{"ruleId":"158","severity":1,"message":"159","line":3,"column":23,"nodeType":"160","messageId":"161","endLine":3,"endColumn":27},"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar"]