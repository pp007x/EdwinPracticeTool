{"ast":null,"code":"import _defineProperty from\"C:/Users/steph/Documents/EdwinPracticeTool/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/steph/Documents/EdwinPracticeTool/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/steph/Documents/EdwinPracticeTool/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/steph/Documents/EdwinPracticeTool/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/steph/Documents/EdwinPracticeTool/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import axios from'axios';import styles from'../../Css/CompanyDashboard.module.css';import AdminSidebar from'./AdminSidebar';import AdminHeader from'./AdminHeader';// create and import a new CSS module for this component\nimport config from'../../config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditOnderwerp(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),onderwerpen=_useState2[0],setOnderwerpen=_useState2[1];var _useState3=useState({id:0,name:\"\",description:\"\"}),_useState4=_slicedToArray(_useState3,2),selectedOnderwerp=_useState4[0],setSelectedOnderwerp=_useState4[1];var fetchOnderwerpen=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(config.API_BASE_URL,\"/api/Onderwerp\"),{headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});case 3:response=_context.sent;setOnderwerpen(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchOnderwerpen(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchOnderwerpen();},[]);var handleOnderwerpChange=function handleOnderwerpChange(e){setSelectedOnderwerp(onderwerpen.find(function(o){return o.id===parseInt(e.target.value);}));};var handleInputChange=function handleInputChange(e){setSelectedOnderwerp(_objectSpread(_objectSpread({},selectedOnderwerp),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.prev=1;_context2.next=4;return axios.put(\"\".concat(config.API_BASE_URL,\"/api/Onderwerp/\").concat(selectedOnderwerp.id),selectedOnderwerp,{headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});case 4:alert('Onderwerp updated successfully!');fetchOnderwerpen();// fetch the list again to get the updated data\n_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.error(_context2.t0);case 11:case\"end\":return _context2.stop();}},_callee2,null,[[1,8]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:styles.dashboard,children:[/*#__PURE__*/_jsx(AdminSidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:styles.main,children:[/*#__PURE__*/_jsx(AdminHeader,{}),/*#__PURE__*/_jsxs(\"div\",{className:styles.content,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit Onderwerp\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Onderwerp:\",/*#__PURE__*/_jsxs(\"select\",{className:styles.dropdownMenu,name:\"onderwerpId\",value:selectedOnderwerp.id,onChange:handleOnderwerpChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select onderwerp\"}),onderwerpen&&onderwerpen.map(function(onderwerp){return/*#__PURE__*/_jsx(\"option\",{value:onderwerp.id,children:onderwerp.name},onderwerp.id);})]})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:styles.inputField,name:\"name\",value:selectedOnderwerp.name,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Description:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:styles.inputField,name:\"description\",value:selectedOnderwerp.description,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update Onderwerp\"})]})]})]})]});}export default EditOnderwerp;","map":{"version":3,"names":["React","useEffect","useState","axios","styles","AdminSidebar","AdminHeader","config","jsx","_jsx","jsxs","_jsxs","EditOnderwerp","_useState","_useState2","_slicedToArray","onderwerpen","setOnderwerpen","_useState3","id","name","description","_useState4","selectedOnderwerp","setSelectedOnderwerp","fetchOnderwerpen","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","concat","API_BASE_URL","headers","Authorization","localStorage","getItem","sent","data","t0","console","error","stop","apply","arguments","handleOnderwerpChange","e","find","o","parseInt","target","value","handleInputChange","_objectSpread","_defineProperty","handleSubmit","_ref2","_callee2","_callee2$","_context2","preventDefault","put","alert","_x","className","dashboard","children","main","content","onSubmit","dropdownMenu","onChange","required","map","onderwerp","type","inputField"],"sources":["C:/Users/steph/Documents/EdwinPracticeTool/frontend/src/components/Admin/AdminEditOnderwerp.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport styles from '../../Css/CompanyDashboard.module.css'; \r\nimport AdminSidebar from './AdminSidebar';\r\nimport AdminHeader from './AdminHeader'; // create and import a new CSS module for this component\r\nimport config from '../../config';\r\n\r\nfunction EditOnderwerp() {\r\n    const [onderwerpen, setOnderwerpen] = useState([]);\r\n    const [selectedOnderwerp, setSelectedOnderwerp] = useState({ id: 0, name: \"\", description: \"\" });\r\n\r\n    const fetchOnderwerpen = async () => {\r\n        try {\r\n            const response = await axios.get(`${config.API_BASE_URL}/api/Onderwerp`, {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`\r\n                }\r\n            });\r\n            setOnderwerpen(response.data);\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchOnderwerpen();\r\n    }, []);\r\n\r\n    const handleOnderwerpChange = (e) => {\r\n        setSelectedOnderwerp(onderwerpen.find(o => o.id === parseInt(e.target.value)));\r\n    };\r\n\r\n    const handleInputChange = (e) => {\r\n        setSelectedOnderwerp({\r\n            ...selectedOnderwerp,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            await axios.put(`${config.API_BASE_URL}/api/Onderwerp/${selectedOnderwerp.id}`, selectedOnderwerp, {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`\r\n                }\r\n            });\r\n            alert('Onderwerp updated successfully!');\r\n            fetchOnderwerpen();  // fetch the list again to get the updated data\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={styles.dashboard}>\r\n        <AdminSidebar />\r\n        <div className={styles.main}>\r\n            <AdminHeader />\r\n            <div className={styles.content}>\r\n                    <h1>Edit Onderwerp</h1>\r\n                    <form onSubmit={handleSubmit}>\r\n                        <label>\r\n                            Onderwerp:\r\n                            <select className={styles.dropdownMenu} name=\"onderwerpId\" value={selectedOnderwerp.id} onChange={handleOnderwerpChange} required>\r\n                                <option value=\"\">Select onderwerp</option>\r\n                                {onderwerpen && onderwerpen.map((onderwerp) => (\r\n                                    <option key={onderwerp.id} value={onderwerp.id}>\r\n                                        {onderwerp.name}\r\n                                    </option>\r\n                                ))}\r\n                            </select>\r\n                        </label>\r\n                        <label>\r\n                            Name:\r\n                            <input type=\"text\" className={styles.inputField} name=\"name\" value={selectedOnderwerp.name} onChange={handleInputChange} required />\r\n                        </label>\r\n                        <label>\r\n                            Description:\r\n                            <input type=\"text\" className={styles.inputField} name=\"description\" value={selectedOnderwerp.description} onChange={handleInputChange} required />\r\n                        </label>\r\n                        <button type=\"submit\">Update Onderwerp</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditOnderwerp;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}