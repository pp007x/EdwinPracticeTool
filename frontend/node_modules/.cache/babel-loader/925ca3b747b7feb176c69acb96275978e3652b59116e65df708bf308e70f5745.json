{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/steph/Documents/EdwinPracticeTool/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/steph/Documents/EdwinPracticeTool/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/steph/Documents/EdwinPracticeTool/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import LogoutButton from'./Logout';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function HomePage(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var token,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;// Get the JWT token from local storage\ntoken=localStorage.getItem('token');if(token){_context.next=5;break;}// Handle case where token is missing or expired\nconsole.error(\"Token not found\");return _context.abrupt(\"return\");case 5:_context.next=7;return axios.get(\"http://localhost:5162/api/Users/Profile\",{headers:{Authorization:\"Bearer \".concat(token)}});case 7:response=_context.sent;setUserData(response.data);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching user data: \",_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);if(!userData){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(LogoutButton,{}),/*#__PURE__*/_jsxs(\"h1\",{children:[\"Welcome, \",userData.username,\"!\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Data:\"}),/*#__PURE__*/_jsx(\"p\",{children:JSON.stringify(userData)})]})]});}export default HomePage;","map":{"version":3,"names":["React","useState","useEffect","axios","LogoutButton","jsx","_jsx","jsxs","_jsxs","HomePage","_useState","_useState2","_slicedToArray","userData","setUserData","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","token","response","wrap","_callee$","_context","prev","next","localStorage","getItem","console","error","abrupt","get","headers","Authorization","concat","sent","data","t0","stop","apply","arguments","children","username","JSON","stringify"],"sources":["C:/Users/steph/Documents/EdwinPracticeTool/frontend/src/components/Homepage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport LogoutButton from './Logout';\r\nfunction HomePage() {\r\n    const [userData, setUserData] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                // Get the JWT token from local storage\r\n                const token = localStorage.getItem('token');\r\n                if (!token) {\r\n                    // Handle case where token is missing or expired\r\n                    console.error(\"Token not found\");\r\n                    return;\r\n                }\r\n\r\n                // Make a request to the server with the token to get user-specific data\r\n                const response = await axios.get(\"http://localhost:5162/api/Users/Profile\", {\r\n                    headers: {\r\n                        Authorization: `Bearer ${token}`\r\n                    }\r\n                });\r\n\r\n                setUserData(response.data);\r\n            } catch (error) {\r\n                console.error(\"Error fetching user data: \", error);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, []);\r\n\r\n    if (!userData) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <LogoutButton />\r\n            <h1>Welcome, {userData.username}!</h1>\r\n            {/* Display user-specific data here */}\r\n            <div>\r\n                <h2>Your Data:</h2>\r\n                {/* This will depend on the structure of your user data */}\r\n                <p>{JSON.stringify(userData)}</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default HomePage;\r\n"],"mappings":"2aAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,YAAY,KAAM,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACpC,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAChB,IAAAC,SAAA,CAAgCT,QAAQ,CAAC,IAAI,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAvCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAE5BT,SAAS,CAAC,UAAM,CACZ,GAAM,CAAAa,SAAS,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,KAAA,CAAAC,QAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAEV;AACML,KAAK,CAAGO,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IACtCR,KAAK,EAAAI,QAAA,CAAAE,IAAA,UACN;AACAG,OAAO,CAACC,KAAK,CAAC,iBAAiB,CAAC,CAAC,OAAAN,QAAA,CAAAO,MAAA,kBAAAP,QAAA,CAAAE,IAAA,SAKd,CAAAxB,KAAK,CAAC8B,GAAG,CAAC,yCAAyC,CAAE,CACxEC,OAAO,CAAE,CACLC,aAAa,WAAAC,MAAA,CAAYf,KAAK,CAClC,CACJ,CAAC,CAAC,QAJIC,QAAQ,CAAAG,QAAA,CAAAY,IAAA,CAMdvB,WAAW,CAACQ,QAAQ,CAACgB,IAAI,CAAC,CAACb,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAc,EAAA,CAAAd,QAAA,aAE3BK,OAAO,CAACC,KAAK,CAAC,4BAA4B,CAAAN,QAAA,CAAAc,EAAO,CAAC,CAAC,yBAAAd,QAAA,CAAAe,IAAA,MAAApB,OAAA,iBAE1D,kBArBK,CAAAL,SAASA,CAAA,SAAAC,IAAA,CAAAyB,KAAA,MAAAC,SAAA,OAqBd,CAED3B,SAAS,CAAC,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,GAAI,CAACF,QAAQ,CAAE,CACX,mBAAOP,IAAA,QAAAqC,QAAA,CAAK,YAAU,CAAK,CAAC,CAChC,CAEA,mBACInC,KAAA,QAAAmC,QAAA,eACIrC,IAAA,CAACF,YAAY,GAAE,CAAC,cAChBI,KAAA,OAAAmC,QAAA,EAAI,WAAS,CAAC9B,QAAQ,CAAC+B,QAAQ,CAAC,GAAC,EAAI,CAAC,cAEtCpC,KAAA,QAAAmC,QAAA,eACIrC,IAAA,OAAAqC,QAAA,CAAI,YAAU,CAAI,CAAC,cAEnBrC,IAAA,MAAAqC,QAAA,CAAIE,IAAI,CAACC,SAAS,CAACjC,QAAQ,CAAC,CAAI,CAAC,EAChC,CAAC,EACL,CAAC,CAEd,CAEA,cAAe,CAAAJ,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}