{"ast":null,"code":"// ProtectedComponent.js\nimport React from'react';import{Navigate}from'react-router-dom';import jwtDecode from'jwt-decode';import{jsx as _jsx}from\"react/jsx-runtime\";function ProtectedComponent(_ref){var children=_ref.children;var token=localStorage.getItem('token');if(!token){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}var decodedToken=jwtDecode(token);var userRole=decodedToken['http://schemas.microsoft.com/ws/2008/06/identity/claims/role'];if(userRole!=='Admin'){return/*#__PURE__*/_jsx(Navigate,{to:\"/home\"});}return children;}export default ProtectedComponent;","map":{"version":3,"names":["React","Navigate","jwtDecode","jsx","_jsx","ProtectedComponent","_ref","children","token","localStorage","getItem","to","decodedToken","userRole"],"sources":["C:/Users/steph/Documents/EdwinPracticeTool/Frontend/src/components/Protectedroute.js"],"sourcesContent":["// ProtectedComponent.js\r\nimport React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport jwtDecode from 'jwt-decode';\r\n\r\nfunction ProtectedComponent({children}) {\r\n    const token = localStorage.getItem('token');\r\n    \r\n    if (!token) {\r\n        return <Navigate to=\"/login\" />\r\n    }\r\n\r\n    const decodedToken = jwtDecode(token);\r\n    const userRole = decodedToken['http://schemas.microsoft.com/ws/2008/06/identity/claims/role'];\r\n\r\n    if (userRole !== 'Admin') {\r\n        return <Navigate to=\"/home\" />\r\n    }\r\n\r\n    return children;\r\n}\r\n\r\nexport default ProtectedComponent;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,MAAO,CAAAC,SAAS,KAAM,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEnC,QAAS,CAAAC,kBAAkBA,CAAAC,IAAA,CAAa,IAAX,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACjC,GAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3C,GAAI,CAACF,KAAK,CAAE,CACR,mBAAOJ,IAAA,CAACH,QAAQ,EAACU,EAAE,CAAC,QAAQ,CAAE,CAAC,CACnC,CAEA,GAAM,CAAAC,YAAY,CAAGV,SAAS,CAACM,KAAK,CAAC,CACrC,GAAM,CAAAK,QAAQ,CAAGD,YAAY,CAAC,8DAA8D,CAAC,CAE7F,GAAIC,QAAQ,GAAK,OAAO,CAAE,CACtB,mBAAOT,IAAA,CAACH,QAAQ,EAACU,EAAE,CAAC,OAAO,CAAE,CAAC,CAClC,CAEA,MAAO,CAAAJ,QAAQ,CACnB,CAEA,cAAe,CAAAF,kBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}