{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/steph/Documents/EdwinPracticeTool/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/steph/Documents/EdwinPracticeTool/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/steph/Documents/EdwinPracticeTool/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import yaml from'js-yaml';import config from'../../config';import DashboardSidebar from'./AdminSidebar';import styles from'../../Css/Dashboard.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=function Header(_ref){var title=_ref.title;return/*#__PURE__*/_jsxs(\"div\",{className:styles.header,children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:styles[\"page-title\"],children:title})]});};function AdminNewQuestion(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),questions=_useState2[0],setQuestions=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var handleFileUpload=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){var file,reader;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:setLoading(true);file=event.target.files[0];reader=new FileReader();reader.onload=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var yamlText,questions,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:yamlText=e.target.result;questions=yaml.load(yamlText);setQuestions(questions);_context.prev=3;_context.next=6;return fetch(\"\".concat(config.API_BASE_URL,\"/api/YamlUpload\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(questions)});case 6:response=_context.sent;if(response.ok){alert(\"Data successfully uploaded\");}else{alert(\"Failed to upload data\");}_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](3);console.error('Error:',_context.t0);case 13:_context.prev=13;setLoading(false);return _context.finish(13);case 16:case\"end\":return _context.stop();}},_callee,null,[[3,10,13,16]]);}));return function(_x2){return _ref3.apply(this,arguments);};}();reader.readAsText(file);case 5:case\"end\":return _context2.stop();}},_callee2);}));return function handleFileUpload(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:styles.dashboard,children:[/*#__PURE__*/_jsx(DashboardSidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:styles.main,children:[/*#__PURE__*/_jsx(Header,{title:\"Admin New Question\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleFileUpload,disabled:loading})]})]});}export default AdminNewQuestion;","map":{"version":3,"names":["React","useState","yaml","config","DashboardSidebar","styles","jsx","_jsx","jsxs","_jsxs","Header","_ref","title","className","header","children","AdminNewQuestion","_useState","_useState2","_slicedToArray","questions","setQuestions","_useState3","_useState4","loading","setLoading","handleFileUpload","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","event","file","reader","wrap","_callee2$","_context2","prev","next","target","files","FileReader","onload","_ref3","_callee","e","yamlText","response","_callee$","_context","result","load","fetch","concat","API_BASE_URL","method","headers","body","JSON","stringify","sent","ok","alert","t0","console","error","finish","stop","_x2","apply","arguments","readAsText","_x","dashboard","main","type","onChange","disabled"],"sources":["C:/Users/steph/Documents/EdwinPracticeTool/frontend/src/components/Admin/AdminNewQuestions.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport yaml from 'js-yaml';\r\nimport config from '../../config';\r\nimport DashboardSidebar from './AdminSidebar';\r\nimport styles from '../../Css/Dashboard.module.css';\r\n\r\nconst Header = ({ title }) => (\r\n  <div className={styles.header}>\r\n    <hr />\r\n    <div className={styles[\"page-title\"]}>{title}</div>\r\n  </div>\r\n);\r\n\r\nfunction AdminNewQuestion() {\r\n    const [questions, setQuestions] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleFileUpload = async (event) => {\r\n        setLoading(true);\r\n        const file = event.target.files[0];\r\n        const reader = new FileReader();\r\n        reader.onload = async (e) => {\r\n            const yamlText = e.target.result;\r\n            const questions = yaml.load(yamlText);\r\n            setQuestions(questions);\r\n\r\n            try {\r\n                const response = await fetch(`${config.API_BASE_URL}/api/YamlUpload`, {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify(questions)\r\n                });\r\n\r\n                if (response.ok) {\r\n                    alert(\"Data successfully uploaded\");\r\n                } else {\r\n                    alert(\"Failed to upload data\");\r\n                }\r\n            } catch (error) {\r\n                console.error('Error:', error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        reader.readAsText(file);\r\n    };\r\n\r\n    return (\r\n        <div className={styles.dashboard}>\r\n          <DashboardSidebar />\r\n          <div className={styles.main}>\r\n            <Header title=\"Admin New Question\" />\r\n            <input type=\"file\" onChange={handleFileUpload} disabled={loading} />\r\n            {/* Render your questions here */}\r\n          </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AdminNewQuestion;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}