{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/steph/Documents/EdwinPracticeTool/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/steph/Documents/EdwinPracticeTool/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/steph/Documents/EdwinPracticeTool/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// RemoveCompany.js\nimport React,{useState,useEffect}from\"react\";import axios from\"axios\";import styles from'../../Css/CompanyDashboard.module.css';import AdminSidebar from'./AdminSidebar';import AdminHeader from'./AdminHeader';// you might want to create separate css module for this component\nimport config from'../../config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RemoveCompany(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),companies=_useState2[0],setCompanies=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),selectedCompany=_useState4[0],setSelectedCompany=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isCompanyRemoved=_useState6[0],setIsCompanyRemoved=_useState6[1];useEffect(function(){fetchCompanies();},[]);var fetchCompanies=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var token,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:token=localStorage.getItem('token');_context.next=3;return axios.get(\"\".concat(config.API_BASE_URL,\"/api/Companies\"),{headers:{Authorization:\"Bearer \".concat(token)}});case 3:response=_context.sent;setCompanies(response.data);case 5:case\"end\":return _context.stop();}},_callee);}));return function fetchCompanies(){return _ref.apply(this,arguments);};}();var handleCompanyChange=function handleCompanyChange(e){setSelectedCompany(e.target.value);};var handleRemoveCompany=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var token;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();token=localStorage.getItem('token');_context2.next=4;return axios.delete(\"\".concat(config.API_BASE_URL,\"/api/Companies/\").concat(selectedCompany),{headers:{Authorization:\"Bearer \".concat(token)}});case 4:setIsCompanyRemoved(true);setSelectedCompany(\"\");case 6:case\"end\":return _context2.stop();}},_callee2);}));return function handleRemoveCompany(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:styles.dashboard,children:[/*#__PURE__*/_jsx(AdminSidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:styles.main,children:[/*#__PURE__*/_jsx(AdminHeader,{}),/*#__PURE__*/_jsxs(\"div\",{className:styles.content,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Remove Company\"}),isCompanyRemoved&&/*#__PURE__*/_jsx(\"p\",{children:\"Company removed successfully!\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRemoveCompany,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Company:\",/*#__PURE__*/_jsxs(\"select\",{className:styles.dropdownMenu,name:\"companyId\",value:selectedCompany,onChange:handleCompanyChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select company\"}),companies&&companies.map(function(company){return/*#__PURE__*/_jsx(\"option\",{value:company.id,children:company.name},company.id);})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Remove Company\"})]})]})]})]});}export default RemoveCompany;","map":{"version":3,"names":["React","useState","useEffect","axios","styles","AdminSidebar","AdminHeader","config","jsx","_jsx","jsxs","_jsxs","RemoveCompany","_useState","_useState2","_slicedToArray","companies","setCompanies","_useState3","_useState4","selectedCompany","setSelectedCompany","_useState5","_useState6","isCompanyRemoved","setIsCompanyRemoved","fetchCompanies","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","token","response","wrap","_callee$","_context","prev","next","localStorage","getItem","get","concat","API_BASE_URL","headers","Authorization","sent","data","stop","apply","arguments","handleCompanyChange","e","target","value","handleRemoveCompany","_ref2","_callee2","_callee2$","_context2","preventDefault","delete","_x","className","dashboard","children","main","content","onSubmit","dropdownMenu","name","onChange","map","company","id","type"],"sources":["C:/Users/steph/Documents/EdwinPracticeTool/frontend/src/components/Admin/AdminRemoveCompany.js"],"sourcesContent":["// RemoveCompany.js\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport styles from '../../Css/CompanyDashboard.module.css'; \r\nimport AdminSidebar from './AdminSidebar';\r\nimport AdminHeader from './AdminHeader'; // you might want to create separate css module for this component\r\nimport config from '../../config';\r\n\r\nfunction RemoveCompany() {\r\n  const [companies, setCompanies] = useState([]);\r\n  const [selectedCompany, setSelectedCompany] = useState(\"\");\r\n  const [isCompanyRemoved, setIsCompanyRemoved] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchCompanies();\r\n  }, []);\r\n\r\n  const fetchCompanies = async () => {\r\n    const token = localStorage.getItem('token');\r\n    const response = await axios.get(`${config.API_BASE_URL}/api/Companies`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    });\r\n    setCompanies(response.data);\r\n  };\r\n\r\n  const handleCompanyChange = (e) => {\r\n    setSelectedCompany(e.target.value);\r\n  };\r\n\r\n  const handleRemoveCompany = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const token = localStorage.getItem('token');\r\n    await axios.delete(`${config.API_BASE_URL}/api/Companies/${selectedCompany}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    });\r\n    setIsCompanyRemoved(true);\r\n    setSelectedCompany(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className={styles.dashboard}>\r\n        <AdminSidebar />\r\n        <div className={styles.main}>\r\n            <AdminHeader />\r\n            <div className={styles.content}>\r\n          <h1>Remove Company</h1>\r\n          {isCompanyRemoved && <p>Company removed successfully!</p>}\r\n          <form onSubmit={handleRemoveCompany}>\r\n            <label>\r\n              Company:\r\n              <select className={styles.dropdownMenu} name=\"companyId\" value={selectedCompany} onChange={handleCompanyChange}>\r\n                <option value=\"\">Select company</option>\r\n                {companies && companies.map((company) => (\r\n                  <option key={company.id} value={company.id}>\r\n                    {company.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </label>\r\n            <button type=\"submit\">Remove Company</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RemoveCompany;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}